<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Shorts –õ–µ–Ω—Ç–∞</title>
<style>
  body {
    margin: 0; padding: 0;
    background: #0d0d0d;
    color: #00ff88;
    font-family: Arial, sans-serif;
    overflow-x: hidden;
  }
  .shorts-container {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .short {
    width: 100%;
    max-width: 400px;
    height: 100vh;
    margin-bottom: 10px;
    position: relative;
  }
  iframe {
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 10px;
  }
  h1 {
    text-align: center;
    padding: 15px 0;
    margin: 0;
    background: #111;
    color: #00ff88;
  }
</style>
</head>
<body>

<h1>üî• –ê–≤—Ç–æ Shorts –õ–µ–Ω—Ç–∞</h1>
<div id="shorts" class="shorts-container"></div>

<script>
const API_KEY = 'AIzaSyDhAKMDqX2G0TNwl3Czk1Dkt89cR2E4e_A'; // —Ç–≤–æ–π –∫–ª—é—á
const maxResults = 5; // —Å–∫–æ–ª—å–∫–æ –≤–∏–¥–µ–æ –∑–∞ —Ä–∞–∑
let nextPageToken = '';
const container = document.getElementById('shorts');

async function loadShorts() {
  let url = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=shorts&maxResults=${maxResults}&key=${API_KEY}`;
  if (nextPageToken) {
    url += `&pageToken=${nextPageToken}`;
  }
  const res = await fetch(url);
  const data = await res.json();
  nextPageToken = data.nextPageToken;

  data.items.forEach(item => {
    const videoId = item.id.videoId;
    const shortDiv = document.createElement('div');
    shortDiv.className = 'short';
    shortDiv.innerHTML = `
      <iframe src="https://www.youtube.com/embed/${videoId}?autoplay=0&mute=1&playsinline=1&modestbranding=1&rel=0&loop=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    `;
    container.appendChild(shortDiv);
  });
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö –≤–∏–¥–µ–æ –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ –≤–Ω–∏–∑
window.addEventListener('scroll', () => {
  if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100) {
    loadShorts();
  }
});

// –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
loadShorts();
</script>

</body>
</html>
